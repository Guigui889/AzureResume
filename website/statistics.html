<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Statistiques â€“ Guillaume Boisseau</title>
  <link rel="stylesheet" href="styles.css" />
  <script src="https://unpkg.com/lucide@latest"></script>
</head>
<body class="dark-mode">
  <div class="theme-toggle-wrapper">
    <button id="toggle-theme" class="button">
      <i data-lucide="sun"></i> Toggle Theme
    </button>
  </div>

  <main class="containerStats">
    <h1>Statistiques</h1>
    <p id="visitor-count">Total des visiteurs : <strong>0</strong></p>

    <a href="index.html" class="button" style="margin-top: 2rem;">
      <i data-lucide="arrow-left"></i> Retour au CV
    </a>
  </main>

  <script>
    lucide.createIcons();

    const toggleBtn = document.getElementById('toggle-theme');
    const body = document.body;

    toggleBtn.addEventListener('click', () => {
      body.classList.toggle('light-mode');
      body.classList.toggle('dark-mode');
      toggleBtn.innerHTML = body.classList.contains('light-mode')
        ? '<i data-lucide="moon"></i> Toggle Theme'
        : '<i data-lucide="sun"></i> Toggle Theme';
      lucide.createIcons();
    });

    // Count visits locally
    const countKey = 'localVisitorCount';
    let count = localStorage.getItem(countKey);

    if (!count) {
      count = 1;
    } else {
      count = parseInt(count) + 1;
    }

    localStorage.setItem(countKey, count);
    document.querySelector('#visitor-count strong').textContent = count;
  </script>
</body>
</html>